<?php
/**
 * Пример 4: Массивы в PHP
 * 
 * Демонстрация работы с массивами
 */

echo "<h1>Массивы в PHP</h1>";

// ============================================
// Простой массив (индексированный)
// ============================================
echo "<h2>Индексированный массив:</h2>";

$фрукты = ["яблоко", "банан", "апельсин", "груша"];
echo "Фрукты: " . implode(", ", $фрукты) . "<br>";

// Доступ по индексу
echo "Первый фрукт: " . $фрукты[0] . "<br>";
echo "Второй фрукт: " . $фрукты[1] . "<br>";
echo "Третий фрукт: " . $фрукты[2] . "<br>";

// Добавление элемента
$фрукты[] = "виноград";
echo "После добавления: " . implode(", ", $фрукты) . "<br>";

// ============================================
// Ассоциативный массив
// ============================================
echo "<h2>Ассоциативный массив:</h2>";

$студент = [
    "имя" => "Иван",
    "фамилия" => "Петров",
    "возраст" => 20,
    "курс" => 2
];

echo "Имя: " . $студент["имя"] . "<br>";
echo "Фамилия: " . $студент["фамилия"] . "<br>";
echo "Возраст: " . $студент["возраст"] . "<br>";
echo "Курс: " . $студент["курс"] . "<br>";

// Добавление элемента
$студент["средний_балл"] = 4.5;
echo "Средний балл: " . $студент["средний_балл"] . "<br>";

// ============================================
// Многомерный массив
// ============================================
echo "<h2>Многомерный массив:</h2>";

$студенты = [
    ["имя" => "Иван", "возраст" => 20, "балл" => 4.5],
    ["имя" => "Мария", "возраст" => 19, "балл" => 5.0],
    ["имя" => "Алексей", "возраст" => 21, "балл" => 4.2]
];

echo "<h3>Список студентов:</h3>";
foreach ($студенты as $студент) {
    echo $студент["имя"] . " (возраст: " . $студент["возраст"] . ", балл: " . $студент["балл"] . ")<br>";
}

// ============================================
// Перебор массива
// ============================================
echo "<h2>Перебор массива:</h2>";

$числа = [10, 20, 30, 40, 50];

echo "<h3>Цикл foreach:</h3>";
foreach ($числа as $число) {
    echo "$число ";
}
echo "<br>";

echo "<h3>Цикл foreach с ключами:</h3>";
$столицы = [
    "Россия" => "Москва",
    "Франция" => "Париж",
    "Германия" => "Берлин",
    "Япония" => "Токио"
];

foreach ($столицы as $страна => $столица) {
    echo "$страна: $столица<br>";
}

// ============================================
// Функции для работы с массивами
// ============================================
echo "<h2>Функции для работы с массивами:</h2>";

$массив = [3, 1, 4, 1, 5, 9, 2, 6];

echo "Исходный массив: " . implode(", ", $массив) . "<br>";
echo "Количество элементов: " . count($массив) . "<br>";
echo "Максимальное значение: " . max($массив) . "<br>";
echo "Минимальное значение: " . min($массив) . "<br>";
echo "Сумма элементов: " . array_sum($массив) . "<br>";

echo "<h2> Сортировка </h2>";
$копия = $массив;
sort($копия);
echo "Отсортированный (по возрастанию): " . implode(", ", $копия) . "<br>";

rsort($копия);
echo "Отсортированный (по убыванию): " . implode(", ", $копия) . "<br>";

// Поиск
echo "Есть ли число 5 в массиве? " . (in_array(5, $массив) ? "Да" : "Нет") . "<br>";
echo "Индекс числа 5: " . array_search(5, $массив) . "<br>";

echo "<> Добавление/удаление элементов </p>";
array_push($массив, 7, 8);
echo "После добавления 7 и 8: " . implode(", ", $массив) . "<br>";

$последний = array_pop($массив);
echo "Удален последний элемент: $последний<br>";
echo "Массив после удаления: " . implode(", ", $массив) . "<br>";

$первый = array_shift($массив);
echo "Удален первый элемент: $первый<br>";
echo "Массив после удаления: " . implode(", ", $массив) . "<br>";

array_unshift($массив, 0);
echo "Добавлен элемент в начало: " . implode(", ", $массив) . "<br>";

// ============================================
// Функции array_map, array_filter, array_reduce
// ============================================
echo "<h2>Функции высшего порядка:</h2>";

$числа = [1, 2, 3, 4, 5];

// array_map - применяет функцию к каждому элементу
$квадраты = array_map(fn($x) => $x * $x, $числа);
echo "Квадраты чисел: " . implode(", ", $квадраты) . "<br>";

// array_filter - фильтрует элементы
$четные = array_filter($числа, fn($x) => $x % 2 == 0);
echo "Четные числа: " . implode(", ", $четные) . "<br>";

// array_reduce - сводит массив к одному значению
$сумма = array_reduce($числа, fn($carry, $item) => $carry + $item, 0);
echo "Сумма всех чисел: $сумма<br>";

// ============================================
// Объединение массивов
// ============================================
echo "<h2>Объединение массивов:</h2>";

$массив1 = ["a", "b", "c"];
$массив2 = [1, 2, 3];
$объединенный = array_merge($массив1, $массив2);
echo "Объединенный массив: " . implode(", ", $объединенный) . "<br>";

// ============================================
// Извлечение ключей и значений
// ============================================
echo "<h2>Ключи и значения:</h2>";

$ассоциативный = ["первый" => 1, "второй" => 2, "третий" => 3, "напиток" =>"чай"];
$ключи = array_keys($ассоциативный);
$значения = array_values($ассоциативный);

echo "Ключи: " . implode(", ", $ключи) . "<br>";
echo "Значения: " . implode(", ", $значения) . "<br>";

?>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Массивы в PHP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1, h2, h3 {
            color: #333;
        }
    </style>
</head>
<body>
    <p><a href="03_functions.php">← Назад к функциям</a> | <a href="../tasks/task_01.php">Перейти к заданиям →</a></p>
</body>
</html>
